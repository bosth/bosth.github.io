<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Leaving Earth is a Constraint Satisfaction Problem &#183; Benjamin Trigona-Harany | jaxartes.net</title><meta name=title content="Leaving Earth is a Constraint Satisfaction Problem &#183; Benjamin Trigona-Harany | jaxartes.net"><link rel=canonical href=https://www.jaxartes.net/pages/leaving-earth/><link type=text/css rel=stylesheet href=/css/main.bundle.min.cf0ebc563e7ce1bad70206a8d2b34fe0892c0119b8d4bc6a203e7ae5ae16886c44722334218877aa3e48bc54598500acdc852ccd46e00b1ef5cd533f4c6295eb.css integrity="sha512-zw68Vj584brXAgao0rNP4IksARm41LxqID565a4WiGxEciM0IYh3qj5IvFRZhQCs3IUszUbgCx71zVM/TGKV6w=="><script type=text/javascript src=/js/appearance.min.a75d508cf75a202afc48fe649516720f8036bda3657897f6cc07dab21f94fa9c3933edbbfc2936f8d3a426f45ac6153237a48aec9115147c5e03db1c5b62b8bc.js integrity="sha512-p11QjPdaICr8SP5klRZyD4A2vaNleJf2zAfash+U+pw5M+27/Ck2+NOkJvRaxhUyN6SK7JEVFHxeA9scW2K4vA=="></script>
<script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.911bd9741247c092f3a38757ca26b07e6bf319209e5162bbc5a609bae50fa2ea13b3c09f8f2c3d1cfd66c0b6885f0b2137bb43fee6404db177d90abde3c09547.js integrity="sha512-kRvZdBJHwJLzo4dXyiawfmvzGSCeUWK7xaYJuuUPouoTs8Cfjyw9HP1mwLaIXwshN7tD/uZATbF32Qq948CVRw==" data-copy data-copied></script>
<script src=/js/zoom.min.js></script>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=google-site-verification content="rj6pajYYOfdl4MQOUwnweKW_jDonxKfZGbe2O-Fo3c4"><meta property="og:title" content="Leaving Earth is a Constraint Satisfaction Problem"><meta property="og:description" content="Mission planning with the Z3 Theorem Prover Leaving Earth> Leaving Earth # Leaving Earth is a board game by Joseph Fatula that recreates the space race of the 1950s, 60s and 70s."><meta property="og:type" content="article"><meta property="og:url" content="https://www.jaxartes.net/pages/leaving-earth/"><meta property="og:image" content="https://www.jaxartes.net/pages/leaving-earth/featured.webp"><meta property="article:section" content="pages"><meta property="article:published_time" content="2023-01-01T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-01T00:00:00+00:00"><meta property="og:site_name" content="Benjamin Trigona-Harany | jaxartes.net"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.jaxartes.net/pages/leaving-earth/featured.webp"><meta name=twitter:title content="Leaving Earth is a Constraint Satisfaction Problem"><meta name=twitter:description content="Mission planning with the Z3 Theorem Prover Leaving Earth> Leaving Earth # Leaving Earth is a board game by Joseph Fatula that recreates the space race of the 1950s, 60s and 70s."><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Pages","name":"Leaving Earth is a Constraint Satisfaction Problem","headline":"Leaving Earth is a Constraint Satisfaction Problem","abstract":"Mission planning with the Z3 Theorem Prover Leaving Earth\u003e Leaving Earth # Leaving Earth is a board game by Joseph Fatula that recreates the space race of the 1950s, 60s and 70s.","inLanguage":"en","url":"https:\/\/www.jaxartes.net\/pages\/leaving-earth\/","author":{"@type":"Person","name":"Benjamin Trigona-Harany"},"copyrightYear":"2023","dateCreated":"2023-01-01T00:00:00\u002b00:00","datePublished":"2023-01-01T00:00:00\u002b00:00","dateModified":"2023-01-01T00:00:00\u002b00:00","keywords":["boardgames","csp","z3","python"],"mainEntityOfPage":"true","wordCount":"3402"}]</script><meta name=author content="Benjamin Trigona-Harany"><link href=https://www.jaxartes.net/ rel=me><link href=mailto:info@jaxartes.net rel=me><link href=https://github.com/bosth rel=me><link href=https://linkedin.com/in/benth rel=me><link href=https://mapstodon.space/@jerseybastion rel=me><link href="https://www.worldcat.org/search?q=Benjamin+Trigona+Harany" rel=me><script src=/lib/jquery/jquery.slim.min.js integrity></script>
<script type=module>
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  mermaid.initialize({
    startOnLoad: true
  });
</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="https://matomo.jaxartes.net/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script><noscript><p><img src="https://matomo.jaxartes.net/matomo.php?idsite=1&amp;rec=1" style=border:0 alt></p></noscript><meta name=theme-color></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a></div><div style=padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"><a href=/ class="text-base font-medium text-gray-500 hover:text-gray-900">Benjamin Trigona-Harany | jaxartes.net</a></nav><nav class="hidden md:flex items-center space-x-5 md:ml-12"><a href=/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title="Benjamin Trigona-Harany | jaxartes.net">Home</p></a><a href=/pages/ class="flex items-center"><p class="text-base font-medium text-gray-500 hover:text-gray-900" title=Pages>Pages</p></a><div class="ltr:mr-14 rtl:ml-14 cursor-pointer text-sm text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"><button id=appearance-switcher type=button><div class="flex items-center justify-center h-12 dark:hidden"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden h-12 dark:flex"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center space-x-5 md:ml-12"><span></span>
<button id=appearance-switcher-mobile type=button style=margin-right:5px><div class="flex items-center justify-center h-12 dark:hidden"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden h-12 dark:flex"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 -mr-2 md:hidden"><label id=menu-button for=menu-controller class=block><input type=checkbox id=menu-controller class=hidden><div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></div><div id=menu-wrapper style=padding-top:5px class="fixed inset-0 z-30 invisible w-screen h-screen m-auto overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50"><ul class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl"><li><span class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></span></li><li class=mt-1><a href=/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title="Benjamin Trigona-Harany | jaxartes.net">Home</p></a></li><li class=mt-1><a href=/pages/ class="flex items-center"><p class="text-bg font-bg text-gray-500 hover:text-gray-900" title=Pages>Pages</p></a></li></ul></div></label></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><div id=hero class="h-[150px] md:h-[200px]"></div><div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom" style=background-image:url(/pages/leaving-earth/featured_hu63478c6181a4c38833ba2ff8c888b803_39480_1200x0_resize_q75_h2_box_2.webp)><div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal"></div><div class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal"></div></div><div id=background-blur class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div><script>window.addEventListener("scroll",function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n=document.getElementById("background-blur");n.style.opacity=t/300})</script><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Leaving Earth is a Constraint Satisfaction Problem</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"></div></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first sm:max-w-prose lg:ml-auto px-0 lg:order-last lg:max-w-xs ltr:lg:pl-8 rtl:lg:pr-8"><div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10"><details open class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="min-w-[220px] py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#leaving-earth>Leaving Earth</a><ul><li><a href=#mission-planning>Mission Planning</a></li></ul></li></ul><ul><li><a href=#z3-theorem-prover>Z3 theorem prover</a><ul><li><a href=#solving-a-single-maneuver>Solving a single maneuver</a></li><li><a href=#solving-longer-missions>Solving longer missions</a></li><li><a href=#ion-thrusters>Ion Thrusters</a></li><li><a href=#controlling-costs>Controlling costs</a></li></ul></li><li><a href=#leaving-earth-solver>Leaving Earth Solver</a><ul><li><a href=#usage>Usage</a></li><li><a href=#more-examples>More examples</a></li><li><a href=#how-it-works>How it works</a></li></ul></li></ul></nav></div></details><details class="mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">Table of Contents</summary><div class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#leaving-earth>Leaving Earth</a><ul><li><a href=#mission-planning>Mission Planning</a></li></ul></li></ul><ul><li><a href=#z3-theorem-prover>Z3 theorem prover</a><ul><li><a href=#solving-a-single-maneuver>Solving a single maneuver</a></li><li><a href=#solving-longer-missions>Solving longer missions</a></li><li><a href=#ion-thrusters>Ion Thrusters</a></li><li><a href=#controlling-costs>Controlling costs</a></li></ul></li><li><a href=#leaving-earth-solver>Leaving Earth Solver</a><ul><li><a href=#usage>Usage</a></li><li><a href=#more-examples>More examples</a></li><li><a href=#how-it-works>How it works</a></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-prose"><div class="lead text-neutral-500 dark:text-neutral-400 !mb-9 text-xl">Mission planning with the Z3 Theorem Prover</div><div id=leaving-earth class=anchor>Leaving Earth></div><h2 class="relative group">Leaving Earth
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#leaving-earth aria-label=Anchor>#</a></span></h2><p>Leaving Earth is a board game by Joseph Fatula that recreates the space race of the 1950s, 60s and 70s. At the start of the game, a handful of missions will be revealed and the players compete to be the first to complete each one, scoring points based on their complexity. Many of these missions are examples of actual human accomplishments - such as <em>Venus Lander</em> - while others - <em>Mars Station</em> - are more fanciful.</p><figure><img class="my-0 rounded-md" srcset="/pages/leaving-earth/mission_sample_hu268ac2b7343b9b3a58b28cb1143855a7_379021_330x0_resize_q75_box.jpg 330w,
/pages/leaving-earth/mission_sample_hu268ac2b7343b9b3a58b28cb1143855a7_379021_660x0_resize_q75_box.jpg 660w,
/pages/leaving-earth/mission_sample_hu268ac2b7343b9b3a58b28cb1143855a7_379021_1024x0_resize_q75_box.jpg 1024w,
/pages/leaving-earth/mission_sample_hu268ac2b7343b9b3a58b28cb1143855a7_379021_1320x0_resize_q75_box.jpg 2x" src=/pages/leaving-earth/mission_sample_hu268ac2b7343b9b3a58b28cb1143855a7_379021_660x0_resize_q75_box.jpg alt><figcaption>Easy missions in Leaving Earth</figcaption></figure><figure><img class="my-0 rounded-md" srcset="/pages/leaving-earth/mission_list_hua51d8195a25f2ecb1dd2d7efefce6264_51954_330x0_resize_q75_h2_box_2.webp 330w,
/pages/leaving-earth/mission_list_hua51d8195a25f2ecb1dd2d7efefce6264_51954_660x0_resize_q75_h2_box_2.webp 660w,
/pages/leaving-earth/mission_list_hua51d8195a25f2ecb1dd2d7efefce6264_51954_1024x0_resize_q75_h2_box_2.webp 1024w,
/pages/leaving-earth/mission_list_hua51d8195a25f2ecb1dd2d7efefce6264_51954_1320x0_resize_q75_h2_box_2.webp 2x" src=/pages/leaving-earth/mission_list_hua51d8195a25f2ecb1dd2d7efefce6264_51954_660x0_resize_q75_h2_box_2.webp alt><figcaption>In real life, the United States would have just edged the Soviet Union 43 points to 42</figcaption></figure><div id=mission-planning class=anchor>Mission Planning></div><h3 class="relative group">Mission Planning
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#mission-planning aria-label=Anchor>#</a></span></h3><p>The core mechanic in Leaving Earth is planning the missions using a variety of rockets, capsules and other components to perform a series of maneuvers from one location to another.</p><figure><img class="my-0 rounded-md" srcset="/pages/leaving-earth/lunarorbit_hud7a62983ec18ab275d742c3279e38da1_161246_330x0_resize_q75_box.jpg 330w,
/pages/leaving-earth/lunarorbit_hud7a62983ec18ab275d742c3279e38da1_161246_660x0_resize_q75_box.jpg 660w,
/pages/leaving-earth/lunarorbit_hud7a62983ec18ab275d742c3279e38da1_161246_1024x0_resize_q75_box.jpg 1024w,
/pages/leaving-earth/lunarorbit_hud7a62983ec18ab275d742c3279e38da1_161246_1320x0_resize_q75_box.jpg 2x" src=/pages/leaving-earth/lunarorbit_hud7a62983ec18ab275d742c3279e38da1_161246_660x0_resize_q75_box.jpg alt><figcaption>From a Lunar orbit, a spacecraft may land on the Moon or fly back to an Earth Orbit</figcaption></figure><p>The key concept is that each maneuver has a difficulty - roughly approximating <a href=https://en.wikipedia.org/wiki/Delta-v target=_blank>Delta-<em>v</em></a> - and each rocket can produce a certain amount of thrust, at which point it is expended.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> The amount of thrust required to perform a maneuver is based on this simple formula: <em>thrust required = mass × difficulty</em>. The final factor, mass, is determined by the number of components aboard the spacecraft.</p><p>A simple mission plan for a spacecraft travelling from Earth to the Lunar surface might look like the following (the numbers in parentheses indicates the mass of that component):</p><table><thead><tr><th>Maneuver</th><th>Difficulty</th><th>Rockets Used</th><th>Payload</th><th>Required Thrust</th></tr></thead><tbody><tr><td>Earth to Earth Orbit</td><td>8</td><td>Saturn (20)</td><td>Atlas (4), Juno (1), Probe (1)</td><td>26 × 8</td></tr><tr><td>Earth Orbit to Lunar Orbit</td><td>3</td><td>Atlas (4)</td><td>Juno (1), Probe (1)</td><td>6 × 3</td></tr><tr><td>Lunar Orbit to Moon</td><td>2</td><td>Juno (1)</td><td>Probe (1)</td><td>2 × 2</td></tr></tbody></table><p>As long as the rockets used in each stage of this mission can product the required thrust, then the maneuver can be completed. In the example above, a Saturn rocket produces 200 thrust, an Atlas 27 thrust and a Juno 4, so each maneuver succeeds.</p><p>An alternative route to space would be to use a two-stage launch to avoid the difficulty 8 maneuver required to go directly from the Earth&rsquo;s surface to Earth Orbit.</p><table><thead><tr><th>Maneuver</th><th>Difficulty</th><th>Rockets Used</th><th>Payload</th><th>Required Thrust</th></tr></thead><tbody><tr><td>Earth to Suborbital Flight</td><td>3</td><td>Soyuz (9)</td><td>Soyuz (9), Atlas (4), Juno (1), Probe (1)</td><td>24 × 3</td></tr><tr><td>Suborbital Flight to Earth Orbit</td><td>5</td><td>Soyuz (9)</td><td>Atlas (4), Juno (1), Probe (1)</td><td>15 × 5</td></tr><tr><td>Earth Orbit to Lunar Orbit</td><td>3</td><td>Atlas (4)</td><td>Juno (1), Probe (1)</td><td>6 × 8</td></tr><tr><td>Lunar Orbit to Moon</td><td>2</td><td>Juno (1)</td><td>Probe (1)</td><td>2 × 2</td></tr></tbody></table><p>A Soyuz produces only 80 thrust, but using this rocket type in a two-stage configuration means that it can still reach orbit. In fact, two Soyuz rockets can carry a payload of 7 mass into orbit, whereas a single Saturn can only carry 5. And since in the game&rsquo;s economy a Soyuz only costs $8 compared to a hefty $15 for a Saturn, the former starts to look like an attractive proposition. That is until you start planning a mission that requires moving a large amount of mass into orbit, such as transporting humans to Mars and back again.</p><figure><img class="my-0 rounded-md" srcset="/pages/leaving-earth/rockets_hu2fcd20eaa050c7aa6c5e0e4a99ad1e26_115441_330x0_resize_q75_box.jpg 330w,
/pages/leaving-earth/rockets_hu2fcd20eaa050c7aa6c5e0e4a99ad1e26_115441_660x0_resize_q75_box.jpg 660w,
/pages/leaving-earth/rockets_hu2fcd20eaa050c7aa6c5e0e4a99ad1e26_115441_1024x0_resize_q75_box.jpg 1024w,
/pages/leaving-earth/rockets_hu2fcd20eaa050c7aa6c5e0e4a99ad1e26_115441_1320x0_resize_q75_box.jpg 2x" src=/pages/leaving-earth/rockets_hu2fcd20eaa050c7aa6c5e0e4a99ad1e26_115441_660x0_resize_q75_box.jpg alt><figcaption>The rockets of Leaving Earth, showing mass, cost and thrust</figcaption></figure><p>There are many other mission planning complexities: Ion Thrusters, which are not expended but take time to travel from one location to another; slingshot maneuvers to travel to the outer reaches of the solar system; one-way maneuvers; and more. But the basic concept I presented above is enough to move on.</p><div id=constraint-satisfaction-problems class=anchor>Constraint Satisfaction Problems></div><h1 class="relative group">Constraint Satisfaction Problems
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#constraint-satisfaction-problems aria-label=Anchor>#</a></span></h1><p>So how can Leaving Earth&rsquo;s mission planning be reduced to a <a href=https://en.wikipedia.org/wiki/Constraint_satisfaction_problem target=_blank>Constraint Satisfaction Problem</a> (CSP)?</p><p>Let&rsquo;s take the difficulty 5 maneuver from Earth to Suborbital Flight and rewrite it as a CSP. To simplify things, we&rsquo;ll assume that there are only Saturn and Soyuz rockets available.</p><figure><img class="my-0 rounded-md" srcset="/pages/leaving-earth/leavingearth_tabletop_hu9301295597b844342c6ee403c1c05714_430348_330x0_resize_q75_box.jpg 330w,
/pages/leaving-earth/leavingearth_tabletop_hu9301295597b844342c6ee403c1c05714_430348_660x0_resize_q75_box.jpg 660w,
/pages/leaving-earth/leavingearth_tabletop_hu9301295597b844342c6ee403c1c05714_430348_1024x0_resize_q75_box.jpg 1024w,
/pages/leaving-earth/leavingearth_tabletop_hu9301295597b844342c6ee403c1c05714_430348_1320x0_resize_q75_box.jpg 2x" src=/pages/leaving-earth/leavingearth_tabletop_hu9301295597b844342c6ee403c1c05714_430348_660x0_resize_q75_box.jpg alt="The Leaving Earth map"></figure><p>The question we want to solve is how many Saturn and how many Soyuz rockets are needed to move a mass of, say, 1 from Earth to Suborbital. In other words, we want to find the values of two variables, <code>saturn</code> and <code>soyuz</code>, such that they satisfy a set of constraints.</p><p>The first two constraints are that both variables must be greater or equal to zero (we don&rsquo;t allow negative numbers of rockets):</p><ul><li><code>saturn ≥ 0</code></li><li><code>soyuz ≥ 0</code></li></ul><p>Next, our Leaving Earth formula <em>thrust required = mass × difficulty</em> needs to be rewritten slightly as <em>thrust produced ≥ mass × difficulty</em>; in other words, we need to make sure that the thrust produced by the Saturn and Soyuz rockets that we use is large enough.</p><p>To write this constraint, first consider what we know:</p><ul><li>payload = 1</li><li>thrust produced = <code>saturn</code> × 200 + <code>soyuz</code> × 80</li><li>mass = <code>saturn</code> × 20 + <code>soyuz</code> × 9 + payload</li><li>difficulty = 5</li></ul><p>Then bring this information together as a third and final constraint:</p><ul><li><code>saturn × 200 + soyuz × 80 ≥ (saturn × 20 + soyuz × 9 + 1) × 5</code></li></ul><p>Let&rsquo;s propose a hypothetical solution to the problem that is <code>saturn = 0, soyuz = 1</code>. To check if this is a solution we need to ensure that the three constraints are satisfied.</p><ol><li><code>saturn ≥ 0</code>: 0 is greater or equal to 0</li><li><code>soyuz ≥ 0</code>: 1 is greater or equal to 0</li><li><code>saturn × 200 + soyuz × 80 ≥ (saturn × 20 + soyuz × 9 + 1) × 5</code>: 80 > 50</li></ol><p>Since we satisfy the constraints, this is a valid solution. In fact, any number of rockets will satisfy this CSP (e.g. <code>saturn = 1, soyuz = 0</code>, <code>saturn = 1, soyuz = 1</code> and <code>saturn = 5, soyuz = 3</code> are all valid solutions).</p><p>Now if the payload size increased from 1 to, say, 10, and we allowed all the different rocket types, then the set of solutions is perhaps not so obvious.</p><div id=z3-theorem-prover class=anchor>Z3 theorem prover></div><h2 class="relative group">Z3 theorem prover
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#z3-theorem-prover aria-label=Anchor>#</a></span></h2><p>This is where a CSP solver comes in handy. Z3 is a toolkit for solving CSPs with bindings for several languages, including Python, which is the language I&rsquo;ll be using here.</p><div id=solving-a-single-maneuver class=anchor>Solving a single maneuver></div><h3 class="relative group">Solving a single maneuver
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#solving-a-single-maneuver aria-label=Anchor>#</a></span></h3><p>Rewriting the CSP above in Z3 would look like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>z3</span> <span class=kn>import</span> <span class=n>solve</span><span class=p>,</span> <span class=n>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>saturn</span> <span class=o>=</span> <span class=n>Int</span><span class=p>(</span><span class=s2>&#34;saturn rockets&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>soyuz</span> <span class=o>=</span> <span class=n>Int</span><span class=p>(</span><span class=s2>&#34;soyuz rockets&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>payload</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=n>thrust</span> <span class=o>=</span> <span class=n>saturn</span><span class=o>*</span><span class=mi>200</span> <span class=o>+</span> <span class=n>soyuz</span><span class=o>*</span><span class=mi>80</span>
</span></span><span class=line><span class=cl><span class=n>mass</span> <span class=o>=</span> <span class=n>saturn</span><span class=o>*</span><span class=mi>20</span> <span class=o>+</span> <span class=n>soyuz</span><span class=o>*</span><span class=mi>9</span> <span class=o>+</span> <span class=n>payload</span>
</span></span><span class=line><span class=cl><span class=n>difficulty</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>solve</span><span class=p>(</span><span class=n>saturn</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>,</span> <span class=n>soyuz</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>,</span> <span class=n>thrust</span> <span class=o>&gt;=</span> <span class=n>mass</span> <span class=o>*</span> <span class=n>difficulty</span><span class=p>)</span>
</span></span></code></pre></div><p>Z3 will return the following result:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>saturn</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>soyuz</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>2</span><span class=p>]</span>
</span></span></code></pre></div><p>In other words, 2 Soyuz rockets can transport a payload of 10 to Suborbital Flight. This certainly is <em>a</em> solution, but is it the optimal solution? For this, we have to decide what defines optimal. Is it the number of rockets? The total mass of the rockets? Or is it the <em>cost</em> of the rockets used? If we are thinking about a game of Leaving Earth, it&rsquo;s probably the cost.</p><p>Let&rsquo;s rewrite the function but with a cost optimization and let&rsquo;s add all the remaining rockets in as variables.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>z3</span> <span class=kn>import</span> <span class=n>Optimize</span><span class=p>,</span> <span class=n>Int</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>saturn</span> <span class=o>=</span> <span class=n>Int</span><span class=p>(</span><span class=s2>&#34;saturn rockets&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>soyuz</span> <span class=o>=</span> <span class=n>Int</span><span class=p>(</span><span class=s2>&#34;soyuz rockets&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>atlas</span> <span class=o>=</span> <span class=n>Int</span><span class=p>(</span><span class=s2>&#34;atlas rockets&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>juno</span> <span class=o>=</span> <span class=n>Int</span><span class=p>(</span><span class=s2>&#34;juno rockets&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>payload</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=n>thrust</span> <span class=o>=</span> <span class=n>saturn</span><span class=o>*</span><span class=mi>200</span> <span class=o>+</span> <span class=n>soyuz</span><span class=o>*</span><span class=mi>80</span> <span class=o>+</span> <span class=n>atlas</span><span class=o>*</span><span class=mi>27</span> <span class=o>+</span> <span class=n>juno</span><span class=o>*</span><span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=n>mass</span> <span class=o>=</span> <span class=n>saturn</span><span class=o>*</span><span class=mi>20</span> <span class=o>+</span> <span class=n>soyuz</span><span class=o>*</span><span class=mi>9</span> <span class=o>+</span> <span class=n>atlas</span><span class=o>*</span><span class=mi>4</span> <span class=o>+</span> <span class=n>juno</span><span class=o>*</span><span class=mi>1</span> <span class=o>+</span> <span class=n>payload</span>
</span></span><span class=line><span class=cl><span class=n>difficulty</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cost</span> <span class=o>=</span> <span class=n>saturn</span><span class=o>*</span><span class=mi>15</span> <span class=o>+</span> <span class=n>soyuz</span><span class=o>*</span><span class=mi>8</span> <span class=o>+</span> <span class=n>atlas</span><span class=o>*</span><span class=mi>5</span> <span class=o>+</span> <span class=n>juno</span><span class=o>*</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>solver</span> <span class=o>=</span> <span class=n>Optimize</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>saturn</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>soyuz</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>atlas</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>juno</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>thrust</span> <span class=o>&gt;=</span> <span class=n>mass</span> <span class=o>*</span> <span class=n>difficulty</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>minimize</span><span class=p>(</span><span class=n>cost</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>check</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>model</span><span class=p>()</span>
</span></span></code></pre></div><p>And this returns:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>saturn</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>soyuz</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>atlas</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>juno</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>0</span><span class=p>]</span>
</span></span></code></pre></div><p>And of course you can get a mix of rockets with the right conditions, such as by setting <code>payload</code> to <code>21</code>, giving:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>saturn</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>soyuz</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>atlas</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>juno</span> <span class=n>rockets</span> <span class=o>=</span> <span class=mi>0</span><span class=p>]</span>
</span></span></code></pre></div><div id=solving-longer-missions class=anchor>Solving longer missions></div><h3 class="relative group">Solving longer missions
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#solving-longer-missions aria-label=Anchor>#</a></span></h3><p>When it&rsquo;s just a single maneuver, the constraints end up being quite simple; however, missions in Leaving Earth inevitably have multiple steps. Fortunately, this is not difficult to express in Z3. Let&rsquo;s take the mission from Earth Orbit to the Moon. We have a maneuver of difficulty 3, followed by a maneuver of difficulty 2.</p><div class=mermaid align=center>graph TD
A((Earth)) -->|3| B(Suborbital Flight)
B -->|5| C(Earth Orbit)
A -->|8| C
C -->|3| D(Lunar Orbit)
D -->|2| E((Moon))</div><p>The key here is to express this mission <em>backwards</em>; in other words, we&rsquo;ll make sure we can travel from Lunar Orbit to the Moon first and then ensure we can travel from Earth Orbit to Lunar Orbit.</p><p>And crucially, the payload gets larger and larger as we move backwards in the mission by the number of rockets that <em>will be</em> expended in the future (remember that once a rocket is used, it is removed from the spacecraft):</p><table><thead><tr><th>Stage</th><th>Maneuver</th><th>Difficulty</th><th>Payload</th></tr></thead><tbody><tr><td>0</td><td>Lunar Orbit to Moon</td><td>2</td><td>5</td></tr><tr><td>1</td><td>Earth Orbit to Lunar Orbit</td><td>3</td><td>5 + mass of rockets used in Stage 0</td></tr></tbody></table><p>In Z3, this would be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>z3</span> <span class=kn>import</span> <span class=n>Optimize</span><span class=p>,</span> <span class=n>IntVector</span><span class=p>,</span> <span class=n>Int</span>
</span></span><span class=line><span class=cl><span class=n>solver</span> <span class=o>=</span> <span class=n>Optimize</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>maneuvers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>]</span> 
</span></span><span class=line><span class=cl><span class=n>maneuvers</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span> <span class=c1># plan the mission backwards</span>
</span></span><span class=line><span class=cl><span class=n>payload</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>saturn</span> <span class=o>=</span> <span class=n>IntVector</span><span class=p>(</span><span class=s2>&#34;saturn rockets&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>soyuz</span> <span class=o>=</span> <span class=n>IntVector</span><span class=p>(</span><span class=s2>&#34;soyuz rockets&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>atlas</span> <span class=o>=</span> <span class=n>IntVector</span><span class=p>(</span><span class=s2>&#34;atlas rockets&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>juno</span> <span class=o>=</span> <span class=n>IntVector</span><span class=p>(</span><span class=s2>&#34;juno rockets&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cost</span> <span class=o>=</span> <span class=mi>0</span> <span class=c1># running total of the cost</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>difficulty</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>saturn</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>soyuz</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>atlas</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>juno</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>thrust</span> <span class=o>=</span> <span class=n>saturn</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>200</span> <span class=o>+</span> <span class=n>soyuz</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>80</span> <span class=o>+</span> <span class=n>atlas</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>27</span> <span class=o>+</span> <span class=n>juno</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>4</span>
</span></span><span class=line><span class=cl>    <span class=n>thruster_mass</span> <span class=o>=</span> <span class=n>saturn</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>20</span> <span class=o>+</span> <span class=n>soyuz</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>9</span> <span class=o>+</span> <span class=n>atlas</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>4</span> <span class=o>+</span> <span class=n>juno</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>mass</span> <span class=o>=</span> <span class=n>thruster_mass</span> <span class=o>+</span> <span class=n>payload</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>thrust</span> <span class=o>&gt;=</span> <span class=n>mass</span> <span class=o>*</span> <span class=n>difficulty</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>cost</span> <span class=o>+=</span> <span class=n>saturn</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>15</span> <span class=o>+</span> <span class=n>soyuz</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>8</span> <span class=o>+</span> <span class=n>atlas</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>5</span> <span class=o>+</span> <span class=n>juno</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>payload</span> <span class=o>+=</span> <span class=n>thruster_mass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>minimize</span><span class=p>(</span><span class=n>cost</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>check</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>model</span><span class=p>()</span>
</span></span></code></pre></div><p>Removing all the unused rockets, we are left with the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>atlas</span> <span class=n>rockets0</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>soyuz</span> <span class=n>rockets1</span> <span class=o>=</span> <span class=mi>1</span><span class=p>]</span>
</span></span></code></pre></div><p>This is saying that for maneuver <code>0</code>, we need an Atlas and for maneuver <code>1</code>, we need a Soyuz. Remember that we planned this backwards, so <code>0</code> is the last maneuver (i.e. Lunar Orbit to the Moon) and <code>1</code> is the maneuver that came before it (i.e. Earth Obit to Lunar Orbit).</p><p>The amazing thing is that by simply changing the line <code>maneuvers = [3, 2]</code>, we can solve any one-way mission in Leaving Earth that uses expendable rockets.</p><p>Earth to the Moon? <code>maneuvers = [8, 3, 2]</code></p><p>Earth to the Moon with a two stage launch? <code>maneuvers = [3, 5, 3, 2]</code></p><p>Earth to Mercury with a two stage launch? <code>maneuvers = [3, 5, 3, 5, 2, 2]</code></p><div id=ion-thrusters class=anchor>Ion Thrusters></div><h3 class="relative group">Ion Thrusters
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#ion-thrusters aria-label=Anchor>#</a></span></h3><p>Ion Thrusters work a little differently: they can&rsquo;t be used for maneuvers travelling to or from celestial bodies; they are not expended when they are used; they produce 5 thrust for every year the journey takes. As an example, if a spacecraft composed of a Probe (mass 1) and an Ion Thruster (mass 1) travels from Earth Orbit to Lunar Orbit, then the journey will take 2 years to complete. The same formula - <em>thrust required = mass × difficulty</em> - applies, giving (1+1) × 3 = 6. Ion Thrusters generate 5 thrust per year so one year of travel would only provide 5 thrust and we need 6, hence two years.</p><p>Since Ion Thrusters are not expended, they are very efficient as long as you aren&rsquo;t in a hurry, but remember Leaving Earth is a <em>race</em> to get points!</p><p>Let&rsquo;s add support for Ion Thrusters to the code above. First we need to add the Ion Thrusters&rsquo; mass and cost <em>once</em> but add their thrust at each stage. Second, we need to introduce a new variable for the number of years each maneuver takes.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>z3</span> <span class=kn>import</span> <span class=n>Optimize</span><span class=p>,</span> <span class=n>IntVector</span><span class=p>,</span> <span class=n>Int</span>
</span></span><span class=line><span class=cl><span class=n>solver</span> <span class=o>=</span> <span class=n>Optimize</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>maneuvers</span> <span class=o>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>maneuvers</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span> <span class=c1># plan the mission backwards</span>
</span></span><span class=line><span class=cl><span class=n>payload</span> <span class=o>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>saturn</span> <span class=o>=</span> <span class=n>IntVector</span><span class=p>(</span><span class=s2>&#34;saturn rockets&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>soyuz</span> <span class=o>=</span> <span class=n>IntVector</span><span class=p>(</span><span class=s2>&#34;soyuz rockets&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>atlas</span> <span class=o>=</span> <span class=n>IntVector</span><span class=p>(</span><span class=s2>&#34;atlas rockets&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>juno</span> <span class=o>=</span> <span class=n>IntVector</span><span class=p>(</span><span class=s2>&#34;juno rockets&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>ion</span> <span class=o>=</span> <span class=n>Int</span><span class=p>(</span><span class=s2>&#34;ion thrusters&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>year</span> <span class=o>=</span> <span class=n>IntVector</span><span class=p>(</span><span class=s2>&#34;years travelled&#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>ion</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cost</span> <span class=o>=</span> <span class=mi>0</span> <span class=c1># running total of the cost</span>
</span></span><span class=line><span class=cl><span class=n>years</span> <span class=o>=</span> <span class=mi>0</span> <span class=c1># running total of journey time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>payload</span> <span class=o>+=</span> <span class=n>ion</span> <span class=o>*</span> <span class=mi>1</span> <span class=c1># add the weight of the ion thrusters to the payload once</span>
</span></span><span class=line><span class=cl><span class=n>cost</span> <span class=o>+=</span> <span class=n>ion</span> <span class=o>*</span> <span class=mi>10</span> <span class=c1># add the cost of the ion thrusters to the total once</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>difficulty</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>maneuvers</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>saturn</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>soyuz</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>atlas</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>juno</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>year</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>thrust</span> <span class=o>=</span> <span class=n>saturn</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>200</span> <span class=o>+</span> <span class=n>soyuz</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>80</span> <span class=o>+</span> <span class=n>atlas</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>27</span> <span class=o>+</span> <span class=n>juno</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>4</span> <span class=o>+</span> <span class=n>ion</span><span class=o>*</span><span class=n>year</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>5</span>
</span></span><span class=line><span class=cl>    <span class=n>thruster_mass</span> <span class=o>=</span> <span class=n>saturn</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>20</span> <span class=o>+</span> <span class=n>soyuz</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>9</span> <span class=o>+</span> <span class=n>atlas</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>4</span> <span class=o>+</span> <span class=n>juno</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>mass</span> <span class=o>=</span> <span class=n>thruster_mass</span> <span class=o>+</span> <span class=n>payload</span>
</span></span><span class=line><span class=cl>    <span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>thrust</span> <span class=o>&gt;=</span> <span class=n>mass</span> <span class=o>*</span> <span class=n>difficulty</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>years</span> <span class=o>+=</span> <span class=n>year</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>cost</span> <span class=o>+=</span> <span class=n>saturn</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>15</span> <span class=o>+</span> <span class=n>soyuz</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>8</span> <span class=o>+</span> <span class=n>atlas</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>5</span> <span class=o>+</span> <span class=n>juno</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>*</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>payload</span> <span class=o>+=</span> <span class=n>thruster_mass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>minimize</span><span class=p>(</span><span class=n>cost</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>check</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>model</span><span class=p>()</span>
</span></span></code></pre></div><p>The code above is for a journey from Earth Orbit to Mercury Orbit. Because Ion Thrusters can&rsquo;t be used to reach space from Earth, the code would need to be more complex to support the full journey, but this is good enough for now.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>ion</span> <span class=n>thrusters</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl> <span class=n>years</span> <span class=n>travelled0</span> <span class=o>=</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl> <span class=n>years</span> <span class=n>travelled1</span> <span class=o>=</span> <span class=mi>9</span><span class=p>,</span>
</span></span><span class=line><span class=cl> <span class=n>years</span> <span class=n>travelled2</span> <span class=o>=</span> <span class=mi>4</span><span class=p>]</span>
</span></span></code></pre></div><table><thead><tr><th>Stage</th><th>Maneuver</th><th>Difficulty</th><th>Time</th></tr></thead><tbody><tr><td>2</td><td>Earth Orbit to Inner Planets Transfer</td><td>3</td><td>4</td></tr><tr><td>1</td><td>Inner Planets Transfer to Mercury Fly-by</td><td>5</td><td>9</td></tr><tr><td>0</td><td>Mercury Fly-by to Mercury Orbit</td><td>2</td><td>3</td></tr></tbody></table><p>For $10 in game money, a single Ion Thruster will carry a payload all the way to Mercury! The only problem is that it will take 16 years &mldr; but what if we ask Z3 to optimize for the journey time?</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>minimize</span><span class=p>(</span><span class=n>cost</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>minimize</span><span class=p>(</span><span class=n>years</span><span class=p>)</span>
</span></span></code></pre></div><p>Now cost is still the most important factor but years will also be minimized and the new results are that the journey will take 13 years. You can also flip the order of the two minimize statements so that the critical factor is the journey time and cost is only of secondary importance!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>juno</span> <span class=n>rockets0</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span> <span class=n>saturn</span> <span class=n>rockets1</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>saturn</span> <span class=n>rockets2</span> <span class=o>=</span> <span class=mi>1</span><span class=p>]</span>
</span></span></code></pre></div><p>Now suddenly, Z3 wants us to use expendable rockets for each maneuver because they don&rsquo;t have the additional time cost of the Ion Thrusters.<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> The monetary cost is significantly higher, however, at $35!</p><div id=controlling-costs class=anchor>Controlling costs></div><h3 class="relative group">Controlling costs
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#controlling-costs aria-label=Anchor>#</a></span></h3><p>In order to controlling spiralling program costs, we can add an additional constraint on how much is spent on a mission. Let&rsquo;s say we are budgeting $25 on our mission to Mercury from Earth Orbit. We still want it completed as fast as possible, but it has to fall below this budget.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>cost</span> <span class=o>&lt;=</span> <span class=mi>25</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>minimize</span><span class=p>(</span><span class=n>years</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>solver</span><span class=o>.</span><span class=n>minimize</span><span class=p>(</span><span class=n>cost</span><span class=p>)</span>
</span></span></code></pre></div><p>Z3 finds a nice balance between rockets and Ion Thrusters, with the Ion Thrusters used at every stage but an Atlas also providing an initial boost:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=n>ion</span> <span class=n>thrusters</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span> <span class=n>atlas</span> <span class=n>rockets2</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> 
</span></span><span class=line><span class=cl> <span class=n>years</span> <span class=n>travelled0</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span> <span class=n>years</span> <span class=n>travelled1</span> <span class=o>=</span> <span class=mi>4</span><span class=p>,</span> <span class=n>years</span> <span class=n>travelled2</span> <span class=o>=</span> <span class=mi>1</span><span class=p>]</span>
</span></span></code></pre></div><table><thead><tr><th>Stage</th><th>Maneuver</th><th>Difficulty</th><th>Time</th><th>Rockets</th></tr></thead><tbody><tr><td>2</td><td>Earth Orbit to Inner Planets Transfer</td><td>3</td><td>1</td><td>Atlas</td></tr><tr><td>1</td><td>Inner Planets Transfer to Mercury Fly-by</td><td>5</td><td>4</td><td></td></tr><tr><td>0</td><td>Mercury Fly-by to Mercury Orbit</td><td>2</td><td>2</td><td></td></tr></tbody></table><div id=leaving-earth-solver class=anchor>Leaving Earth Solver></div><h2 class="relative group">Leaving Earth Solver
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#leaving-earth-solver aria-label=Anchor>#</a></span></h2><p>I put all of this and more together into a Python package to solve many (but not all) Leaving Earth missions, including rules from Outer Planets and Stations. It&rsquo;s a command-line tool that works like this:</p><a target=_blank href=https://github.com/bosth/leaving-earth-solver class=cursor-pointer><div class="w-full md:w-auto pt-3 p-5 border border-neutral-200 dark:border-neutral-700 border-2 rounded-md backdrop-blur shadow-2xl"><div class="flex items-center"><span class="text-2xl text-neutral-800 dark:text-neutral" style=margin-right:10px><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></span><div class="m-0 font-bold text-xl text-neutral-800 decoration-primary-500 hover:underline hover:underline-offset-2 dark:text-neutral">bosth/leaving-earth-solver</div></div><p class="m-0 mt-2 text-md text-neutral-800 dark:text-neutral">Leaving Earth Solver</p><div class="m-0 mt-2 flex items-center"><span class="mr-1 inline-block h-3 w-3 rounded-full" style=background-color:#3572a5></span><div class="m-0 mr-5 text-md text-neutral-800 dark:text-neutral">Python</div><span class="text-md mr-1 text-neutral-800 dark:text-neutral"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentcolor" d="M287.9.0C297.1.0 305.5 5.25 309.5 13.52L378.1 154.8l153.3 22.7C540.4 178.8 547.8 185.1 550.7 193.7 553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4l26.3 155.5C461.4 492.9 457.7 502.1 450.2 507.4 442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9 150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4 118.2 502.1 114.5 492.9 115.1 483.9l27.1-155.5L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7 28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8 266.3 13.52C270.4 5.249 278.7.0 287.9.0zm0 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9 184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7l105.2-56.2C283.7 383.7 292.2 383.7 299.2 387.5l105.2 56.2-20.2-119.6C382.9 316.4 385.5 308.5 391 303l85.9-85.1-118.3-17.4C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"/></svg></span></span><div class="m-0 mr-5 text-md text-neutral-800 dark:text-neutral">1</div><span class="text-md mr-1 text-neutral-800 dark:text-neutral"><span class="relative block icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M80 104c13.3.0 24-10.7 24-24S93.3 56 80 56 56 66.7 56 80s10.7 24 24 24zm80-24c0 32.8-19.7 61-48 73.3V192c0 17.7 14.3 32 32 32H304c17.7.0 32-14.3 32-32V153.3C307.7 141 288 112.8 288 80c0-44.2 35.8-80 80-80s80 35.8 80 80c0 32.8-19.7 61-48 73.3V192c0 53-43 96-96 96H256v70.7c28.3 12.3 48 40.5 48 73.3.0 44.2-35.8 80-80 80s-80-35.8-80-80c0-32.8 19.7-61 48-73.3V288H144c-53 0-96-43-96-96V153.3C19.7 141 0 112.8.0 80 0 35.8 35.8.0 80 0s80 35.8 80 80zm208 24c13.3.0 24-10.7 24-24s-10.7-24-24-24-24 10.7-24 24 10.7 24 24 24zM248 432c0-13.3-10.7-24-24-24s-24 10.7-24 24 10.7 24 24 24 24-10.7 24-24z"/></svg></span></span><div class="m-0 mr-5 text-md text-neutral-800 dark:text-neutral">2</div></div></div></a><div id=usage class=anchor>Usage></div><h3 class="relative group">Usage
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#usage aria-label=Anchor>#</a></span></h3><p>Use <code>les --help</code> to get a list of arguments and parameters:</p><pre tabindex=0><code>Usage: les [OPTIONS] ORIGIN DESTINATION [PAYLOAD]

Options:
  --version                       Show the version and exit.
  -v, --verbose                   Verbose mode
  -j, --juno RANGE                Number of Juno rockets
  -a, --atlas RANGE               Number of Atlas rockets
  -s, --soyuz RANGE               Number of Soyuz rockets
  -p, --proton RANGE              Number of Proton rockets
  -n, --saturn RANGE              Number of Saturn rockets
  -i, --ion RANGE                 Number of Ion thrusters
  -c, --cost RANGE                Cost of mission
  -m, --minimize [time|cost|mass]
                                  Minimization goal
  --single-stage                  Check a single stage configuration for
                                  launches from Earth (by default only a two-
                                  stage configuration will be attempted)
  --aerobraking / --no-aerobraking
                                  Use aerobraking
  --rendezvous / --no-rendezvous  If rendezvous technology is available, Ion
                                  thrusters will be detached when no longer
                                  needed
  -t, --time RANGE                Number of time tokens
  -y, --year INTEGER RANGE        Year that journey starts  [1956&lt;=x&lt;=1986]
  --help                          Show this message and exit.
</code></pre><p>The basic pattern is to provide the origin and destination and <code>les</code> will assume a payload of size 1:</p><pre tabindex=0><code>les Eo L
</code></pre><p>The results are a JSON description of the entire mission:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;components&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;juno&#34;</span><span class=p>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;payload&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;mass&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;cost&#34;</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;time&#34;</span><span class=p>:</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;plan&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;origin&#34;</span><span class=p>:</span> <span class=s2>&#34;Earth orbit&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;destination&#34;</span><span class=p>:</span> <span class=s2>&#34;Lunar fly-by&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;difficulty&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;components&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;juno&#34;</span><span class=p>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;thrust&#34;</span><span class=p>:</span> <span class=mi>8</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;origin&#34;</span><span class=p>:</span> <span class=s2>&#34;Lunar fly-by&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;destination&#34;</span><span class=p>:</span> <span class=s2>&#34;Lunar orbit&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;difficulty&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;components&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;juno&#34;</span><span class=p>:</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;thrust&#34;</span><span class=p>:</span> <span class=mi>8</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;origin&#34;</span><span class=p>:</span> <span class=s2>&#34;Lunar orbit&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;destination&#34;</span><span class=p>:</span> <span class=s2>&#34;Moon&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;difficulty&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;components&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;juno&#34;</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;thrust&#34;</span><span class=p>:</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><figure><img class="my-0 rounded-md" srcset="/pages/leaving-earth/lunar_hu0c8b55578a51c6342816710cae417331_159122_330x0_resize_q75_h2_box_2.webp 330w,
/pages/leaving-earth/lunar_hu0c8b55578a51c6342816710cae417331_159122_660x0_resize_q75_h2_box_2.webp 660w,
/pages/leaving-earth/lunar_hu0c8b55578a51c6342816710cae417331_159122_1024x0_resize_q75_h2_box_2.webp 1024w,
/pages/leaving-earth/lunar_hu0c8b55578a51c6342816710cae417331_159122_1320x0_resize_q75_h2_box_2.webp 2x" src=/pages/leaving-earth/lunar_hu0c8b55578a51c6342816710cae417331_159122_660x0_resize_q75_h2_box_2.webp alt><figcaption>This plan uses Lunar Fly-by because of the low difficulty maneuver from Earth Orbit</figcaption></figure><p>If you don&rsquo;t have Saturn technology (or don&rsquo;t want Saturn rockets to be part of the solution), you can force them to <code>0</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>les Eo L --saturn <span class=m>0</span>
</span></span></code></pre></div><p><code>les</code> understands the following format for the numbers provided to it:</p><table><thead><tr><th>Parameter</th><th>Range</th></tr></thead><tbody><tr><td>1</td><td>exactly 1</td></tr><tr><td>1+</td><td>1 or more</td></tr><tr><td>1-3</td><td>1 to 3</td></tr><tr><td>-3</td><td>3 or fewer</td></tr></tbody></table><div id=more-examples class=anchor>More examples></div><h3 class="relative group">More examples
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#more-examples aria-label=Anchor>#</a></span></h3><p>To find the optimal solution for a trip that taking 5 mass from Earth (<code>E</code>) to the Moon that uses no Saturn rockets, between 1 and 3 Soyuz rockets and where we are able to detach the Ion Thruster before landing on the Moon (this avoids moving unnecessary mass):</p><pre tabindex=0><code>les E L 5 --saturn 0 --soyuz 1-3 --rendezvous
</code></pre><p>To find the optimal solution for a trip taking 10 mass from Earth to Mars (<code>M</code>) in 5 years or less with aerobraking technology available:</p><pre tabindex=0><code>les E M 10 --aerobraking -t -5
</code></pre><p>To find the optimal solution for the fastest trip carrying 10 mass from Earth Orbit to Jupiter Fly-by (<code>Jfb</code>) that leaves in 1960.</p><pre tabindex=0><code>les Eo Jfb 10 --year 1960 --minimize time
</code></pre><p>Result:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;start&#34;</span><span class=p>:</span> <span class=mi>1960</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;end&#34;</span><span class=p>:</span> <span class=mi>1963</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;components&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;juno&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;soyuz&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;ion&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;atlas&#34;</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;payload&#34;</span><span class=p>:</span> <span class=mi>10</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;mass&#34;</span><span class=p>:</span> <span class=mi>17</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;cost&#34;</span><span class=p>:</span> <span class=mi>26</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;time&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;plan&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;origin&#34;</span><span class=p>:</span> <span class=s2>&#34;Earth orbit&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;destination&#34;</span><span class=p>:</span> <span class=s2>&#34;Inner planets transfer&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;difficulty&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;components&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;soyuz&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;ion&#34;</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;aerobraking&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;year&#34;</span><span class=p>:</span> <span class=mi>1960</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;time&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;thrust&#34;</span><span class=p>:</span> <span class=mi>85</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;slingshot&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;origin&#34;</span><span class=p>:</span> <span class=s2>&#34;Inner planets transfer&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;destination&#34;</span><span class=p>:</span> <span class=s2>&#34;Venus fly-by&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;difficulty&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;components&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;juno&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;atlas&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;ion&#34;</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;aerobraking&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;time&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;year&#34;</span><span class=p>:</span> <span class=mi>1961</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;thrust&#34;</span><span class=p>:</span> <span class=mi>36</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;slingshot&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;origin&#34;</span><span class=p>:</span> <span class=s2>&#34;Venus fly-by&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;destination&#34;</span><span class=p>:</span> <span class=s2>&#34;Jupiter fly-by&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;difficulty&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;components&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;juno&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;ion&#34;</span><span class=p>:</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;aerobraking&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;year&#34;</span><span class=p>:</span> <span class=mi>1962</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;time&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;thrust&#34;</span><span class=p>:</span> <span class=mi>13</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;slingshot&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><figure><img class="my-0 rounded-md" srcset="/pages/leaving-earth/slingshot_hu381d2ab00f27c6d06fd11d0da417ed4e_165304_330x0_resize_box_3.png 330w,
/pages/leaving-earth/slingshot_hu381d2ab00f27c6d06fd11d0da417ed4e_165304_660x0_resize_box_3.png 660w,
/pages/leaving-earth/slingshot_hu381d2ab00f27c6d06fd11d0da417ed4e_165304_1024x0_resize_box_3.png 1024w,
/pages/leaving-earth/slingshot_hu381d2ab00f27c6d06fd11d0da417ed4e_165304_1320x0_resize_box_3.png 2x" src=/pages/leaving-earth/slingshot_hu381d2ab00f27c6d06fd11d0da417ed4e_165304_660x0_resize_box_3.png alt><figcaption>Leaving Earth in 1960, a spacecraft can use the 1962 slingshot maneuver from Venus to Jupiter</figcaption></figure><div id=how-it-works class=anchor>How it works></div><h3 class="relative group">How it works
<span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#how-it-works aria-label=Anchor>#</a></span></h3><p>The core concept is identical to what I described above but <code>les</code> also finds the optimal paths from the origin to the destination. In most cases there are multiple paths between two points and the optimal path depends on a number of external factors. Even travelling to the Moon from Earth presents many options:</p><div class=mermaid align=center>graph TD
E((Earth)) -->|3| ESo(Suborbital Flight)
ESo -->|5| Eo(Earth Orbit)
E -->|8| Eo
Eo -->|3| Lo(Lunar Orbit)
Lo -->|2| L((fa:fa-ban Moon))
Eo -->|1| Lfb(Lunar Fly-by)
Lfb -->|2| Lo
Lfb -->|4| L</div><p>By default, <code>les</code> will try to predict a few plausible paths and solve for each of those, selecting the best solution at the end.</p><p><code>les</code> is aware of which maneuvers support Ion Thrusters and can detatch these opportunistically when they will no longer be needed to complete a mission. Conversely, it will carry unused Ion Thrusters from one location to the next if they will be used at a future stage.</p><p>It also can make use of aerobraking, slingshot maneuvers and Proton rockets from the expansions. It doesn&rsquo;t support the reusable shuttles, however, and it won&rsquo;t increase or decrease the difficulty of maneuvers to change travel times. The biggest missing feature, however, is probably not being able to plan return missions (e.g. going to the Moon and back again).</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>When a rocket is expended, its card is discarded and it is no longer part of the spacecraft.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>Leaving Earth players will note that some maneuvers take a minimum amount of time even with rockets, but I am ignoring that for the moment.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></br></br></div><script>var oid="views_pages/leaving-earth/index.md",oid_likes="likes_pages/leaving-earth/index.md"</script><script type=text/javascript src=/js/page.min.0e49973b4ad0a382c7c6012d8bff8226316642daabc4f8a20477bd08674f3da6e2fa993bc20ad4f51e7c5bb68e6f913a207a7c4fe37ea0e7b806894afce0a64e.js integrity="sha512-DkmXO0rQo4LHxgEti/+CJjFmQtqrxPiiBHe9CGdPPabi+pk7wgrU9R58W7aOb5E6IHp8T+N+oOe4BolK/OCmTg=="></script></section><footer class="pt-8 max-w-prose print:hidden"></footer></article><div class="pointer-events-none absolute top-[100vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://blowfish.page/ target=_blank rel="noopener noreferrer">Blowfish</a></p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.2166d3adac1679c00a75161830ab5725d3efc0e3d3f8c2453fb01d0907948436c25f0f8a7ad824322fa22f3f9c85fd4d0a1d5c856f53b862157da25a57dc3d52.js integrity="sha512-IWbTrawWecAKdRYYMKtXJdPvwOPT+MJFP7AdCQeUhDbCXw+KetgkMi+iLz+chf1NCh1chW9TuGIVfaJaV9w9Ug=="></script></footer></div></body></html>